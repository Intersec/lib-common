###########################################################################
#                                                                         #
# Copyright 2025 INTERSEC SA                                              #
#                                                                         #
# Licensed under the Apache License, Version 2.0 (the "License");         #
# you may not use this file except in compliance with the License.        #
# You may obtain a copy of the License at                                 #
#                                                                         #
#     http://www.apache.org/licenses/LICENSE-2.0                          #
#                                                                         #
# Unless required by applicable law or agreed to in writing, software     #
# distributed under the License is distributed on an "AS IS" BASIS,       #
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.#
# See the License for the specific language governing permissions and     #
# limitations under the License.                                          #
#                                                                         #
###########################################################################

line-length = 78
target-version = "py39"
builtins = ["_iop_registry"]

[lint]

select = [
    # default values
    "E4",  # pycodestyle - errors
    "E7",  # pycodestyle - errors
    "E9",  # pycodestyle - errors
    "F",   # pyflakes (runtime errors, unused imports, etc.)
]

# Enable Pylint rules + some essential Ruff defaults
extend-select = [
    "PL",   # Pylint rules
]

# Ignore specific rules you find too noisy or don't need
ignore = [
    # Rules in PREVIEW are unstable, --preview flag is required for use.

    # PLR - pylint - refactor
    "PLR0904",  # too-many-public-methods => lint.pylint.max-public-methods - PREVIEW
    "PLR0911",  # too-many-return-statements => lint.pylint.max-returns
    "PLR0912",  # too-many-branches => lint.pylint.max-branches
    "PLR0913",  # too-many-arguments => lint.pylint.max-args
    "PLR0914",  # too-many-locals => lint.pylint.max-locals - PREVIEW
    "PLR0915",  # too-many-statements => lint.pylint.max-statements
    "PLR0916",  # too-many-boolean-expressions => lint.pylint.max-bool-expr - PREVIEW
    "PLR1702",  # too-many-nested-blocks => lint.pylint.max-nested-blocks - PREVIEW
    "PLR2004",  # magic-value-comparison

    # PLW - pylint- warning
    "PLW0603",  # global-statement
    "PLW1514",  # unspecified-encoding - PREVIEW

    # PLC - pylint - convention
    #"PLC1901", # compare-to-empty-string - PREVIEW

    # PLE - pylint - error
    "PLE1205",  # too-few-public-methods

    # E - pycodestyle - error
    "E731",     # lambda-assignment
]

# Only ignore variables named "_".
dummy-variable-rgx = "_"

# Optional: extend for specific files or folders
[lint.extend-per-file-ignores]
"**/__init__.py" = ["F401"]  # unused-import
"**/wscript_build" = ["F821"]  # undefined-name
