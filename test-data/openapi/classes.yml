tstiop.MyClass1:
  type: object
  required:
    - int1
  properties:
    _class:
      type: string
    int1:
      $ref: "#/components/schemas/iop:i32"
  discriminator:
    propertyName: _class
tstiop.MyClass2:
  allOf:
    - $ref: "#/components/schemas/tstiop.MyClass1"
    - type: object
      required:
        - int2
      properties:
        int2:
          $ref: "#/components/schemas/iop:i32"
tstiop.MyClass2Bis:
  allOf:
    - $ref: "#/components/schemas/tstiop.MyClass1"
    - type: object
      required:
        - int2
      properties:
        int2:
          $ref: "#/components/schemas/iop:i32"
tstiop.MyClass3:
  allOf:
    - $ref: "#/components/schemas/tstiop.MyClass2"
    - type: object
      required:
        - int3
        - bool1
      properties:
        int3:
          $ref: "#/components/schemas/iop:i32"
        bool1:
          $ref: "#/components/schemas/iop:bool"
        string1:
          $ref: "#/components/schemas/iop:string"
tstiop.StructJpackFlags:
  type: object
  properties:
    opt:
      $ref: "#/components/schemas/iop:i32"
    def:
      $ref: "#/components/schemas/iop:i32"
    rep:
      type: array
      items:
        $ref: "#/components/schemas/iop:i32"
    myClass:
      oneOf:
        - $ref: "#/components/schemas/tstiop.MyClass1"
        - $ref: "#/components/schemas/tstiop.MyClass2"
        - $ref: "#/components/schemas/tstiop.MyClass2Bis"
        - $ref: "#/components/schemas/tstiop.MyClass3"
      discriminator:
        propertyName: _class
