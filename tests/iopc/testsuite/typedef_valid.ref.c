/***** THIS FILE IS AUTOGENERATED DO NOT MODIFY DIRECTLY ! *****/
#ifndef linux
#  warning "typedef_valid.iop assumed linux alignments"
#endif
#ifndef __x86_64__
#  warning "typedef_valid.iop assumed x86_64 alignments"
#endif

#include "typedef_valid.iop.h"

/* Structure typedef_valid.MyStruct {{{ */

static iop_field_t const typedef_valid__my_struct__desc_fields[] = {
    {
        .name      = LSTR_IMMED("a"),
        .tag       = 1,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__my_struct__t, a),
        .size      = fieldsizeof(typedef_valid__my_struct__t, a),
    },
    {
        .name      = LSTR_IMMED("b"),
        .tag       = 2,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_I32,
        .data_offs = offsetof(typedef_valid__my_struct__t, b),
        .size      = fieldsizeof(typedef_valid__my_struct__t, b),
    },
    {
        .name      = LSTR_IMMED("type1"),
        .tag       = 3,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__my_struct__t, type1),
        .size      = fieldsizeof(typedef_valid__my_struct__t, type1),
    },
    {
        .name      = LSTR_IMMED("type2"),
        .tag       = 4,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__my_struct__t, type2),
        .size      = fieldsizeof(typedef_valid__my_struct__t, type2),
    },
    {
        .name      = LSTR_IMMED("s1"),
        .tag       = 5,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRUCT,
        .data_offs = offsetof(typedef_valid__my_struct__t, s1),
        .size      = sizeof(typedef_valid__typedef_simple_hdr__t),
        .u1        = { .st_desc = &typedef_valid__typedef_simple_hdr__s },
    },
    {
        .name      = LSTR_IMMED("s2"),
        .tag       = 6,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRUCT,
        .data_offs = offsetof(typedef_valid__my_struct__t, s2),
        .size      = sizeof(typedef2__foo_s__t),
        .u1        = { .st_desc = &typedef2__foo_s__s },
    },
    {
        .name      = LSTR_IMMED("u1"),
        .tag       = 7,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_UNION,
        .data_offs = offsetof(typedef_valid__my_struct__t, u1),
        .size      = sizeof(typedef1__foo_u__t),
        .u1        = { .st_desc = &typedef1__foo_u__s },
    },
    {
        .name      = LSTR_IMMED("u2"),
        .tag       = 8,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_UNION,
        .data_offs = offsetof(typedef_valid__my_struct__t, u2),
        .size      = sizeof(typedef2__foo_u__t),
        .u1        = { .st_desc = &typedef2__foo_u__s },
    },
    {
        .name      = LSTR_IMMED("e1"),
        .tag       = 9,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_ENUM,
        .data_offs = offsetof(typedef_valid__my_struct__t, e1),
        .size      = fieldsizeof(typedef_valid__my_struct__t, e1),
        .u1        = { .en_desc = &typedef1__foo_e__e },
    },
    {
        .name      = LSTR_IMMED("e2"),
        .tag       = 10,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_ENUM,
        .data_offs = offsetof(typedef_valid__my_struct__t, e2),
        .size      = fieldsizeof(typedef_valid__my_struct__t, e2),
        .u1        = { .en_desc = &typedef2__foo_e__e },
    },
};
static int const iop__ranges__1[] = {
    0, 1,
    10,
};
const iop_struct_t typedef_valid__my_struct__s = {
    .fullname   = LSTR_IMMED("typedef_valid.MyStruct"),
    .fields     = typedef_valid__my_struct__desc_fields,
    .ranges     = iop__ranges__1,
    .ranges_len = countof(iop__ranges__1) / 2,
    .fields_len = countof(typedef_valid__my_struct__desc_fields),
    .size       = sizeof(typedef_valid__my_struct__t),
};
iop_struct_t const * const typedef_valid__my_struct__sp = &typedef_valid__my_struct__s;

/* }}} */
/* Union typedef_valid.MyUnion {{{ */

static iop_field_t const typedef_valid__my_union__desc_fields[] = {
    {
        .name      = LSTR_IMMED("a"),
        .tag       = 1,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__my_union__t, a),
        .size      = fieldsizeof(typedef_valid__my_union__t, a),
    },
    {
        .name      = LSTR_IMMED("b"),
        .tag       = 2,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_I32,
        .data_offs = offsetof(typedef_valid__my_union__t, b),
        .size      = fieldsizeof(typedef_valid__my_union__t, b),
    },
    {
        .name      = LSTR_IMMED("c"),
        .tag       = 3,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_BOOL,
        .data_offs = offsetof(typedef_valid__my_union__t, c),
        .size      = fieldsizeof(typedef_valid__my_union__t, c),
    },
};
static int const iop__ranges__2[] = {
    0, 1,
    3,
};
const iop_struct_t typedef_valid__my_union__s = {
    .fullname   = LSTR_IMMED("typedef_valid.MyUnion"),
    .fields     = typedef_valid__my_union__desc_fields,
    .ranges     = iop__ranges__2,
    .ranges_len = countof(iop__ranges__2) / 2,
    .fields_len = countof(typedef_valid__my_union__desc_fields),
    .size       = sizeof(typedef_valid__my_union__t),
    .is_union   = true,
};
iop_struct_t const * const typedef_valid__my_union__sp = &typedef_valid__my_union__s;

/* }}} */
/* Class typedef_valid.A {{{ */

static iop_field_t const typedef_valid__a__desc_fields[] = {
    {
        .name      = LSTR_IMMED("a"),
        .tag       = 1,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__a__t, a),
        .size      = fieldsizeof(typedef_valid__a__t, a),
    },
};
static int const iop__ranges__3[] = {
    0, 1,
    1,
};
static const iop_class_attrs_t typedef_valid__a__class_s = {
    .class_id          = 0,
};
const iop_struct_t typedef_valid__a__s = {
    .fullname   = LSTR_IMMED("typedef_valid.A"),
    .fields     = typedef_valid__a__desc_fields,
    .ranges     = iop__ranges__3,
    .ranges_len = countof(iop__ranges__3) / 2,
    .fields_len = countof(typedef_valid__a__desc_fields),
    .size       = sizeof(typedef_valid__a__t),
    .flags      = 13,
    .is_union   = false,
    .st_attrs   = NULL,
    .fields_attrs = NULL,
    {
        .class_attrs  = &typedef_valid__a__class_s,
    }
};
iop_struct_t const * const typedef_valid__a__sp = &typedef_valid__a__s;

/* }}} */
/* Class typedef_valid.B {{{ */

static iop_field_t const typedef_valid__b__desc_fields[] = {
};
static int const iop__ranges__4[] = {
    0,
};
static const iop_class_attrs_t typedef_valid__b__class_s = {
    .parent            = &typedef_valid__a__s,
    .class_id          = 10,
};
const iop_struct_t typedef_valid__b__s = {
    .fullname   = LSTR_IMMED("typedef_valid.B"),
    .fields     = typedef_valid__b__desc_fields,
    .ranges     = iop__ranges__4,
    .ranges_len = countof(iop__ranges__4) / 2,
    .fields_len = countof(typedef_valid__b__desc_fields),
    .size       = sizeof(typedef_valid__b__t),
    .flags      = 13,
    .is_union   = false,
    .st_attrs   = NULL,
    .fields_attrs = NULL,
    {
        .class_attrs  = &typedef_valid__b__class_s,
    }
};
iop_struct_t const * const typedef_valid__b__sp = &typedef_valid__b__s;

/* }}} */
/* Structure typedef_valid.TypedefStructUseAll {{{ */

static int typedef_valid__typedef_struct_use_all__mst__check(const void *ptr, int n)
{
    for (int j = 0; j < n; j++) {
        lstr_t    val = IOP_FIELD(lstr_t   , ptr, j);

        if (val.len > 12) {
            iop_set_err("violation of constraint %s (%d) on field %s: length=%d",
                        "maxLength", 12, "mst", val.len);
            return -1;
        }
    }
    return 0;
}
static iop_field_attr_t const typedef_valid__typedef_struct_use_all__mst__attrs[] = {
    {
        .type = 8,
        .args = (iop_field_attr_arg_t[]){ { .v.i64 = 12LL } },
    },
};
static int typedef_valid__typedef_struct_use_all__mns__check(const void *ptr, int n)
{
    for (int j = 0; j < n; j++) {
        lstr_t    val = IOP_FIELD(lstr_t   , ptr, j);

        for (int c = 0; c < val.len; c++) {
            switch (val.s[c]) {
                case '0' ... '9':
                    break;
                default:
                    iop_set_err("violation of constraint %s (%s) on field %s: %*pM",
                                "pattern", "[0-9]*", "mns", LSTR_FMT_ARG(val));
                    return -1;
            }
        }
    }
    return 0;
}
static iop_field_attr_t const typedef_valid__typedef_struct_use_all__mns__attrs[] = {
    {
        .type = 9,
        .args = (iop_field_attr_arg_t[]){ { .v.s = LSTR_IMMED("[0-9]*") } },
    },
};
static int typedef_valid__typedef_struct_use_all__m3__check(const void *ptr, int n)
{
    for (int j = 0; j < n; j++) {
        uint64_t  val = IOP_FIELD(uint64_t , ptr, j);

        if (val < 3ULL) {
            if (n > 1) {
                iop_set_err("violation of constraint %s (%ju) on field %s[%d]: val=%ju",
                            "min", (uint64_t)3ULL, "m3", j, (uint64_t)val);
            } else {
                iop_set_err("violation of constraint %s (%ju) on field %s: val=%ju",
                            "min", (uint64_t)3ULL, "m3", (uint64_t)val);
            }
            return -1;
        }
    }
    return 0;
}
static iop_field_attr_t const typedef_valid__typedef_struct_use_all__m3__attrs[] = {
    {
        .type = 3,
        .args = (iop_field_attr_arg_t[]){ { .v.i64 = 3ULL } },
    },
};
static int typedef_valid__typedef_struct_use_all__m37__check(const void *ptr, int n)
{
    for (int j = 0; j < n; j++) {
        uint64_t  val = IOP_FIELD(uint64_t , ptr, j);

        if (val < 3ULL) {
            if (n > 1) {
                iop_set_err("violation of constraint %s (%ju) on field %s[%d]: val=%ju",
                            "min", (uint64_t)3ULL, "m37", j, (uint64_t)val);
            } else {
                iop_set_err("violation of constraint %s (%ju) on field %s: val=%ju",
                            "min", (uint64_t)3ULL, "m37", (uint64_t)val);
            }
            return -1;
        }
    }
    return 0;
}
static iop_field_attr_t const typedef_valid__typedef_struct_use_all__m37__attrs[] = {
    {
        .type = 3,
        .args = (iop_field_attr_arg_t[]){ { .v.i64 = 3ULL } },
    },
};
static int typedef_valid__typedef_struct_use_all__b310__check(const void *ptr, int n)
{
    for (int j = 0; j < n; j++) {
        uint64_t  val = IOP_FIELD(uint64_t , ptr, j);

        if (val > 10ULL) {
            if (n > 1) {
                iop_set_err("violation of constraint %s (%ju) on field %s[%d]: val=%ju",
                            "max", (uint64_t)10ULL, "b310", j, (uint64_t)val);
            } else {
                iop_set_err("violation of constraint %s (%ju) on field %s: val=%ju",
                            "max", (uint64_t)10ULL, "b310", (uint64_t)val);
            }
            return -1;
        }
        if (val < 3ULL) {
            if (n > 1) {
                iop_set_err("violation of constraint %s (%ju) on field %s[%d]: val=%ju",
                            "min", (uint64_t)3ULL, "b310", j, (uint64_t)val);
            } else {
                iop_set_err("violation of constraint %s (%ju) on field %s: val=%ju",
                            "min", (uint64_t)3ULL, "b310", (uint64_t)val);
            }
            return -1;
        }
    }
    return 0;
}
static iop_field_attr_t const typedef_valid__typedef_struct_use_all__b310__attrs[] = {
    {
        .type = 4,
        .args = (iop_field_attr_arg_t[]){ { .v.i64 = 10ULL } },
    },
    {
        .type = 3,
        .args = (iop_field_attr_arg_t[]){ { .v.i64 = 3ULL } },
    },
};
static int typedef_valid__typedef_struct_use_all__msa3__check(const void *ptr, int n)
{
    if (n < 3) {
        iop_set_err("violation of constraint %s (%d) on field %s: length=%d",
                    "minOccurs", 3, "msa3", n);
        return -1;
    }
    return 0;
}
static iop_field_attr_t const typedef_valid__typedef_struct_use_all__msa3__attrs[] = {
    {
        .type = 0,
        .args = (iop_field_attr_arg_t[]){ { .v.i64 = 3LL } },
    },
};
static int typedef_valid__typedef_struct_use_all__msa6__check(const void *ptr, int n)
{
    if (n < 6) {
        iop_set_err("violation of constraint %s (%d) on field %s: length=%d",
                    "minOccurs", 6, "msa6", n);
        return -1;
    }
    return 0;
}
static iop_field_attr_t const typedef_valid__typedef_struct_use_all__msa6__attrs[] = {
    {
        .type = 0,
        .args = (iop_field_attr_arg_t[]){ { .v.i64 = 6LL } },
    },
};
static int typedef_valid__typedef_struct_use_all__msa610__check(const void *ptr, int n)
{
    if (n > 10) {
        iop_set_err("violation of constraint %s (%d) on field %s: length=%d",
                    "maxOccurs", 10, "msa610", n);
        return -1;
    }
    if (n < 6) {
        iop_set_err("violation of constraint %s (%d) on field %s: length=%d",
                    "minOccurs", 6, "msa610", n);
        return -1;
    }
    return 0;
}
static iop_field_attr_t const typedef_valid__typedef_struct_use_all__msa610__attrs[] = {
    {
        .type = 1,
        .args = (iop_field_attr_arg_t[]){ { .v.i64 = 10LL } },
    },
    {
        .type = 0,
        .args = (iop_field_attr_arg_t[]){ { .v.i64 = 6LL } },
    },
};
static int typedef_valid__typedef_struct_use_all__mnso__check(const void *ptr, int n)
{
    for (int j = 0; j < n; j++) {
        lstr_t    val = IOP_FIELD(lstr_t   , ptr, j);

        for (int c = 0; c < val.len; c++) {
            switch (val.s[c]) {
                case '0' ... '9':
                    break;
                default:
                    iop_set_err("violation of constraint %s (%s) on field %s: %*pM",
                                "pattern", "[0-9]*", "mnso", LSTR_FMT_ARG(val));
                    return -1;
            }
        }
    }
    return 0;
}
static iop_field_attr_t const typedef_valid__typedef_struct_use_all__mnso__attrs[] = {
    {
        .type = 9,
        .args = (iop_field_attr_arg_t[]){ { .v.s = LSTR_IMMED("[0-9]*") } },
    },
};
static iop_field_attr_t const typedef_valid__typedef_struct_use_all__mea__attrs[] = {
    {
        .type = 15,
        .args = (iop_field_attr_arg_t[]){ { .v.s = LSTR_IMMED("td:myenumalias") }, {.v.s = LSTR_IMMED("{}") } },
    },
};
static iop_field_attr_t const typedef_valid__typedef_struct_use_all__msal__attrs[] = {
    {
        .type = 15,
        .args = (iop_field_attr_arg_t[]){ { .v.s = LSTR_IMMED("td:mystructalias") }, {.v.s = LSTR_IMMED("{}") } },
    },
};
static iop_field_attr_t const typedef_valid__typedef_struct_use_all__mya__attrs[] = {
    {
        .type = 15,
        .args = (iop_field_attr_arg_t[]){ { .v.s = LSTR_IMMED("td:myunionalias") }, {.v.s = LSTR_IMMED("{}") } },
    },
};
static int typedef_valid__typedef_struct_use_all__muab__check(const void *ptr, int n)
{
    for (int j = 0; j < n; j++) {
        typedef_valid__my_union__t *val = &IOP_FIELD(typedef_valid__my_union__t, ptr, j);

        switch (val->iop_tag) {
          case typedef_valid__my_union__a__ft:
            break;
          case typedef_valid__my_union__b__ft:
            break;
          case typedef_valid__my_union__c__ft:
            iop_set_err("violation of constraint allow (c) on field muab");
            return -1;
        }
    }
    return 0;
}
static int typedef_valid__typedef_struct_use_all__muabc__check(const void *ptr, int n)
{
    for (int j = 0; j < n; j++) {
        typedef_valid__my_union__t *val = &IOP_FIELD(typedef_valid__my_union__t, ptr, j);

        switch (val->iop_tag) {
          case typedef_valid__my_union__a__ft:
            break;
          case typedef_valid__my_union__b__ft:
            break;
          case typedef_valid__my_union__c__ft:
            break;
        }
    }
    return 0;
}
static int typedef_valid__typedef_struct_use_all__muwc__check(const void *ptr, int n)
{
    for (int j = 0; j < n; j++) {
        typedef_valid__my_union__t *val = &IOP_FIELD(typedef_valid__my_union__t, ptr, j);

        switch (val->iop_tag) {
          case typedef_valid__my_union__a__ft:
            break;
          case typedef_valid__my_union__b__ft:
            break;
          case typedef_valid__my_union__c__ft:
            iop_set_err("violation of constraint disallow (c) on field muwc");
            return -1;
        }
    }
    return 0;
}
static int typedef_valid__typedef_struct_use_all__muwcopt__check(const void *ptr, int n)
{
    for (int j = 0; j < n; j++) {
        typedef_valid__my_union__t *val = &IOP_FIELD(typedef_valid__my_union__t, ptr, j);

        switch (val->iop_tag) {
          case typedef_valid__my_union__a__ft:
            break;
          case typedef_valid__my_union__b__ft:
            break;
          case typedef_valid__my_union__c__ft:
            iop_set_err("violation of constraint disallow (c) on field muwcopt");
            return -1;
        }
    }
    return 0;
}
static iop_field_attr_t const typedef_valid__typedef_struct_use_all__a__attrs[] = {
    {
        .type = 15,
        .args = (iop_field_attr_arg_t[]){ { .v.s = LSTR_IMMED("td:adef") }, {.v.s = LSTR_IMMED("{}") } },
    },
};
static iop_field_attr_t const typedef_valid__typedef_struct_use_all__b__attrs[] = {
    {
        .type = 15,
        .args = (iop_field_attr_arg_t[]){ { .v.s = LSTR_IMMED("td:bdef") }, {.v.s = LSTR_IMMED("{}") } },
    },
};
static iop_field_attrs_t const typedef_valid__typedef_struct_use_all__desc_fields_attrs[] = {
    {
        .flags             = 0,
        .attrs_len         = 0,
    },
    {
        .flags             = 0,
        .attrs_len         = 0,
    },
    {
        .flags             = 0,
        .attrs_len         = 0,
    },
    {
        .flags             = 256,
        .attrs_len         = 1,
        .check_constraints = &typedef_valid__typedef_struct_use_all__mst__check,
        .attrs             = typedef_valid__typedef_struct_use_all__mst__attrs,
    },
    {
        .flags             = 0,
        .attrs_len         = 0,
    },
    {
        .flags             = 0,
        .attrs_len         = 0,
    },
    {
        .flags             = 0,
        .attrs_len         = 0,
    },
    {
        .flags             = 0,
        .attrs_len         = 0,
    },
    {
        .flags             = 0,
        .attrs_len         = 0,
    },
    {
        .flags             = 512,
        .attrs_len         = 1,
        .check_constraints = &typedef_valid__typedef_struct_use_all__mns__check,
        .attrs             = typedef_valid__typedef_struct_use_all__mns__attrs,
    },
    {
        .flags             = 8,
        .attrs_len         = 1,
        .check_constraints = &typedef_valid__typedef_struct_use_all__m3__check,
        .attrs             = typedef_valid__typedef_struct_use_all__m3__attrs,
    },
    {
        .flags             = 8,
        .attrs_len         = 1,
        .check_constraints = &typedef_valid__typedef_struct_use_all__m37__check,
        .attrs             = typedef_valid__typedef_struct_use_all__m37__attrs,
    },
    {
        .flags             = 24,
        .attrs_len         = 2,
        .check_constraints = &typedef_valid__typedef_struct_use_all__b310__check,
        .attrs             = typedef_valid__typedef_struct_use_all__b310__attrs,
    },
    {
        .flags             = 0,
        .attrs_len         = 0,
    },
    {
        .flags             = 1,
        .attrs_len         = 1,
        .check_constraints = &typedef_valid__typedef_struct_use_all__msa3__check,
        .attrs             = typedef_valid__typedef_struct_use_all__msa3__attrs,
    },
    {
        .flags             = 1,
        .attrs_len         = 1,
        .check_constraints = &typedef_valid__typedef_struct_use_all__msa6__check,
        .attrs             = typedef_valid__typedef_struct_use_all__msa6__attrs,
    },
    {
        .flags             = 3,
        .attrs_len         = 2,
        .check_constraints = &typedef_valid__typedef_struct_use_all__msa610__check,
        .attrs             = typedef_valid__typedef_struct_use_all__msa610__attrs,
    },
    {
        .flags             = 512,
        .attrs_len         = 1,
        .check_constraints = &typedef_valid__typedef_struct_use_all__mnso__check,
        .attrs             = typedef_valid__typedef_struct_use_all__mnso__attrs,
    },
    {
        .flags             = 32768,
        .attrs_len         = 1,
        .attrs             = typedef_valid__typedef_struct_use_all__mea__attrs,
    },
    {
        .flags             = 32768,
        .attrs_len         = 1,
        .attrs             = typedef_valid__typedef_struct_use_all__msal__attrs,
    },
    {
        .flags             = 32768,
        .attrs_len         = 1,
        .attrs             = typedef_valid__typedef_struct_use_all__mya__attrs,
    },
    {
        .flags             = 0,
        .attrs_len         = 0,
        .check_constraints = &typedef_valid__typedef_struct_use_all__muab__check,
    },
    {
        .flags             = 0,
        .attrs_len         = 0,
        .check_constraints = &typedef_valid__typedef_struct_use_all__muabc__check,
    },
    {
        .flags             = 0,
        .attrs_len         = 0,
        .check_constraints = &typedef_valid__typedef_struct_use_all__muwc__check,
    },
    {
        .flags             = 0,
        .attrs_len         = 0,
        .check_constraints = &typedef_valid__typedef_struct_use_all__muwcopt__check,
    },
    {
        .flags             = 32768,
        .attrs_len         = 1,
        .attrs             = typedef_valid__typedef_struct_use_all__a__attrs,
    },
    {
        .flags             = 32768,
        .attrs_len         = 1,
        .attrs             = typedef_valid__typedef_struct_use_all__b__attrs,
    },
};
static iop_field_t const typedef_valid__typedef_struct_use_all__desc_fields[] = {
    {
        .name      = LSTR_IMMED("ms"),
        .tag       = 1,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, ms),
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, ms),
    },
    {
        .name      = LSTR_IMMED("opt"),
        .tag       = 2,
        .tag_len   = 0,
        .repeat    = IOP_R_OPTIONAL,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, opt),
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, opt),
    },
    {
        .name      = LSTR_IMMED("def"),
        .tag       = 3,
        .tag_len   = 0,
        .repeat    = IOP_R_DEFVAL,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, def),
        .u0        = { .defval_len  = 4 },
        .u1        = { .defval_data = "test" },
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, def),
    },
    {
        .name      = LSTR_IMMED("mst"),
        .tag       = 4,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, mst),
        .flags     = 1,
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, mst),
    },
    {
        .name      = LSTR_IMMED("mul"),
        .tag       = 5,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_U64,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, mul),
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, mul),
    },
    {
        .name      = LSTR_IMMED("muldef"),
        .tag       = 6,
        .tag_len   = 0,
        .repeat    = IOP_R_DEFVAL,
        .type      = IOP_T_U64,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, muldef),
        .u1        = { .defval_u64 = 0x2 },
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, muldef),
    },
    {
        .name      = LSTR_IMMED("md"),
        .tag       = 7,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_DOUBLE,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, md),
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, md),
    },
    {
        .name      = LSTR_IMMED("mddef"),
        .tag       = 8,
        .tag_len   = 0,
        .repeat    = IOP_R_DEFVAL,
        .type      = IOP_T_DOUBLE,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, mddef),
        .u1        = { .defval_d = 2.00000000000000000e+00 },
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, mddef),
    },
    {
        .name      = LSTR_IMMED("mddef2"),
        .tag       = 9,
        .tag_len   = 0,
        .repeat    = IOP_R_DEFVAL,
        .type      = IOP_T_DOUBLE,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, mddef2),
        .u1        = { .defval_d = 2.00000000000000000e+00 },
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, mddef2),
    },
    {
        .name      = LSTR_IMMED("mns"),
        .tag       = 10,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, mns),
        .flags     = 1,
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, mns),
    },
    {
        .name      = LSTR_IMMED("m3"),
        .tag       = 11,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_U64,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, m3),
        .flags     = 1,
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, m3),
    },
    {
        .name      = LSTR_IMMED("m37"),
        .tag       = 12,
        .tag_len   = 0,
        .repeat    = IOP_R_DEFVAL,
        .type      = IOP_T_U64,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, m37),
        .flags     = 1,
        .u1        = { .defval_u64 = 0x7 },
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, m37),
    },
    {
        .name      = LSTR_IMMED("b310"),
        .tag       = 13,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_U64,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, b310),
        .flags     = 1,
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, b310),
    },
    {
        .name      = LSTR_IMMED("msa"),
        .tag       = 14,
        .tag_len   = 0,
        .repeat    = IOP_R_REPEATED,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, msa),
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, msa.tab[0]),
    },
    {
        .name      = LSTR_IMMED("msa3"),
        .tag       = 15,
        .tag_len   = 0,
        .repeat    = IOP_R_REPEATED,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, msa3),
        .flags     = 3,
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, msa3.tab[0]),
    },
    {
        .name      = LSTR_IMMED("msa6"),
        .tag       = 16,
        .tag_len   = 0,
        .repeat    = IOP_R_REPEATED,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, msa6),
        .flags     = 3,
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, msa6.tab[0]),
    },
    {
        .name      = LSTR_IMMED("msa610"),
        .tag       = 17,
        .tag_len   = 0,
        .repeat    = IOP_R_REPEATED,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, msa610),
        .flags     = 3,
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, msa610.tab[0]),
    },
    {
        .name      = LSTR_IMMED("mnso"),
        .tag       = 18,
        .tag_len   = 0,
        .repeat    = IOP_R_OPTIONAL,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, mnso),
        .flags     = 1,
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, mnso),
    },
    {
        .name      = LSTR_IMMED("mea"),
        .tag       = 19,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_ENUM,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, mea),
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all__t, mea),
        .u1        = { .en_desc = &enum1__my_enum__e },
    },
    {
        .name      = LSTR_IMMED("msal"),
        .tag       = 20,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRUCT,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, msal),
        .size      = sizeof(typedef_valid__my_struct__t),
        .u1        = { .st_desc = &typedef_valid__my_struct__s },
    },
    {
        .name      = LSTR_IMMED("mya"),
        .tag       = 21,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_UNION,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, mya),
        .size      = sizeof(typedef_valid__my_union__t),
        .u1        = { .st_desc = &typedef_valid__my_union__s },
    },
    {
        .name      = LSTR_IMMED("muab"),
        .tag       = 22,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_UNION,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, muab),
        .flags     = 1,
        .size      = sizeof(typedef_valid__my_union__t),
        .u1        = { .st_desc = &typedef_valid__my_union__s },
    },
    {
        .name      = LSTR_IMMED("muabc"),
        .tag       = 23,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_UNION,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, muabc),
        .flags     = 1,
        .size      = sizeof(typedef_valid__my_union__t),
        .u1        = { .st_desc = &typedef_valid__my_union__s },
    },
    {
        .name      = LSTR_IMMED("muwc"),
        .tag       = 24,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_UNION,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, muwc),
        .flags     = 1,
        .size      = sizeof(typedef_valid__my_union__t),
        .u1        = { .st_desc = &typedef_valid__my_union__s },
    },
    {
        .name      = LSTR_IMMED("muwcopt"),
        .tag       = 25,
        .tag_len   = 0,
        .repeat    = IOP_R_OPTIONAL,
        .type      = IOP_T_UNION,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, muwcopt),
        .flags     = 1,
        .size      = sizeof(typedef_valid__my_union__t),
        .u1        = { .st_desc = &typedef_valid__my_union__s },
    },
    {
        .name      = LSTR_IMMED("a"),
        .tag       = 26,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRUCT,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, a),
        .size      = sizeof(typedef_valid__a__t *),
        .u1        = { .st_desc = &typedef_valid__a__s },
    },
    {
        .name      = LSTR_IMMED("b"),
        .tag       = 27,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRUCT,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all__t, b),
        .size      = sizeof(typedef_valid__b__t *),
        .u1        = { .st_desc = &typedef_valid__b__s },
    },
};
static int const iop__ranges__5[] = {
    0, 1,
    27,
};
const iop_struct_t typedef_valid__typedef_struct_use_all__s = {
    .fullname   = LSTR_IMMED("typedef_valid.TypedefStructUseAll"),
    .fields     = typedef_valid__typedef_struct_use_all__desc_fields,
    .ranges     = iop__ranges__5,
    .ranges_len = countof(iop__ranges__5) / 2,
    .fields_len = countof(typedef_valid__typedef_struct_use_all__desc_fields),
    .size       = sizeof(typedef_valid__typedef_struct_use_all__t),
    .flags      = 3,
    .fields_attrs = typedef_valid__typedef_struct_use_all__desc_fields_attrs,
};
iop_struct_t const * const typedef_valid__typedef_struct_use_all__sp = &typedef_valid__typedef_struct_use_all__s;

/* }}} */
/* Union typedef_valid.TypedefUnionUseAll {{{ */

static int typedef_valid__typedef_union_use_all__mns__check(const void *ptr, int n)
{
    for (int j = 0; j < n; j++) {
        lstr_t    val = IOP_FIELD(lstr_t   , ptr, j);

        for (int c = 0; c < val.len; c++) {
            switch (val.s[c]) {
                case '0' ... '9':
                    break;
                default:
                    iop_set_err("violation of constraint %s (%s) on field %s: %*pM",
                                "pattern", "[0-9]*", "mns", LSTR_FMT_ARG(val));
                    return -1;
            }
        }
    }
    return 0;
}
static iop_field_attr_t const typedef_valid__typedef_union_use_all__mns__attrs[] = {
    {
        .type = 9,
        .args = (iop_field_attr_arg_t[]){ { .v.s = LSTR_IMMED("[0-9]*") } },
    },
};
static int typedef_valid__typedef_union_use_all__m3__check(const void *ptr, int n)
{
    for (int j = 0; j < n; j++) {
        uint64_t  val = IOP_FIELD(uint64_t , ptr, j);

        if (val < 3ULL) {
            if (n > 1) {
                iop_set_err("violation of constraint %s (%ju) on field %s[%d]: val=%ju",
                            "min", (uint64_t)3ULL, "m3", j, (uint64_t)val);
            } else {
                iop_set_err("violation of constraint %s (%ju) on field %s: val=%ju",
                            "min", (uint64_t)3ULL, "m3", (uint64_t)val);
            }
            return -1;
        }
    }
    return 0;
}
static iop_field_attr_t const typedef_valid__typedef_union_use_all__m3__attrs[] = {
    {
        .type = 3,
        .args = (iop_field_attr_arg_t[]){ { .v.i64 = 3ULL } },
    },
};
static int typedef_valid__typedef_union_use_all__b310__check(const void *ptr, int n)
{
    for (int j = 0; j < n; j++) {
        uint64_t  val = IOP_FIELD(uint64_t , ptr, j);

        if (val > 10ULL) {
            if (n > 1) {
                iop_set_err("violation of constraint %s (%ju) on field %s[%d]: val=%ju",
                            "max", (uint64_t)10ULL, "b310", j, (uint64_t)val);
            } else {
                iop_set_err("violation of constraint %s (%ju) on field %s: val=%ju",
                            "max", (uint64_t)10ULL, "b310", (uint64_t)val);
            }
            return -1;
        }
        if (val < 3ULL) {
            if (n > 1) {
                iop_set_err("violation of constraint %s (%ju) on field %s[%d]: val=%ju",
                            "min", (uint64_t)3ULL, "b310", j, (uint64_t)val);
            } else {
                iop_set_err("violation of constraint %s (%ju) on field %s: val=%ju",
                            "min", (uint64_t)3ULL, "b310", (uint64_t)val);
            }
            return -1;
        }
    }
    return 0;
}
static iop_field_attr_t const typedef_valid__typedef_union_use_all__b310__attrs[] = {
    {
        .type = 4,
        .args = (iop_field_attr_arg_t[]){ { .v.i64 = 10ULL } },
    },
    {
        .type = 3,
        .args = (iop_field_attr_arg_t[]){ { .v.i64 = 3ULL } },
    },
};
static iop_field_attr_t const typedef_valid__typedef_union_use_all__mea__attrs[] = {
    {
        .type = 15,
        .args = (iop_field_attr_arg_t[]){ { .v.s = LSTR_IMMED("td:myenumalias") }, {.v.s = LSTR_IMMED("{}") } },
    },
};
static iop_field_attr_t const typedef_valid__typedef_union_use_all__msal__attrs[] = {
    {
        .type = 15,
        .args = (iop_field_attr_arg_t[]){ { .v.s = LSTR_IMMED("td:mystructalias") }, {.v.s = LSTR_IMMED("{}") } },
    },
};
static iop_field_attr_t const typedef_valid__typedef_union_use_all__mya__attrs[] = {
    {
        .type = 15,
        .args = (iop_field_attr_arg_t[]){ { .v.s = LSTR_IMMED("td:myunionalias") }, {.v.s = LSTR_IMMED("{}") } },
    },
};
static int typedef_valid__typedef_union_use_all__muab__check(const void *ptr, int n)
{
    for (int j = 0; j < n; j++) {
        typedef_valid__my_union__t *val = &IOP_FIELD(typedef_valid__my_union__t, ptr, j);

        switch (val->iop_tag) {
          case typedef_valid__my_union__a__ft:
            break;
          case typedef_valid__my_union__b__ft:
            break;
          case typedef_valid__my_union__c__ft:
            iop_set_err("violation of constraint allow (c) on field muab");
            return -1;
        }
    }
    return 0;
}
static int typedef_valid__typedef_union_use_all__muabc__check(const void *ptr, int n)
{
    for (int j = 0; j < n; j++) {
        typedef_valid__my_union__t *val = &IOP_FIELD(typedef_valid__my_union__t, ptr, j);

        switch (val->iop_tag) {
          case typedef_valid__my_union__a__ft:
            break;
          case typedef_valid__my_union__b__ft:
            break;
          case typedef_valid__my_union__c__ft:
            break;
        }
    }
    return 0;
}
static int typedef_valid__typedef_union_use_all__muwc__check(const void *ptr, int n)
{
    for (int j = 0; j < n; j++) {
        typedef_valid__my_union__t *val = &IOP_FIELD(typedef_valid__my_union__t, ptr, j);

        switch (val->iop_tag) {
          case typedef_valid__my_union__a__ft:
            break;
          case typedef_valid__my_union__b__ft:
            break;
          case typedef_valid__my_union__c__ft:
            iop_set_err("violation of constraint disallow (c) on field muwc");
            return -1;
        }
    }
    return 0;
}
static iop_field_attr_t const typedef_valid__typedef_union_use_all__a__attrs[] = {
    {
        .type = 15,
        .args = (iop_field_attr_arg_t[]){ { .v.s = LSTR_IMMED("td:adef") }, {.v.s = LSTR_IMMED("{}") } },
    },
};
static iop_field_attr_t const typedef_valid__typedef_union_use_all__b__attrs[] = {
    {
        .type = 15,
        .args = (iop_field_attr_arg_t[]){ { .v.s = LSTR_IMMED("td:bdef") }, {.v.s = LSTR_IMMED("{}") } },
    },
};
static iop_field_attrs_t const typedef_valid__typedef_union_use_all__desc_fields_attrs[] = {
    {
        .flags             = 0,
        .attrs_len         = 0,
    },
    {
        .flags             = 0,
        .attrs_len         = 0,
    },
    {
        .flags             = 512,
        .attrs_len         = 1,
        .check_constraints = &typedef_valid__typedef_union_use_all__mns__check,
        .attrs             = typedef_valid__typedef_union_use_all__mns__attrs,
    },
    {
        .flags             = 8,
        .attrs_len         = 1,
        .check_constraints = &typedef_valid__typedef_union_use_all__m3__check,
        .attrs             = typedef_valid__typedef_union_use_all__m3__attrs,
    },
    {
        .flags             = 24,
        .attrs_len         = 2,
        .check_constraints = &typedef_valid__typedef_union_use_all__b310__check,
        .attrs             = typedef_valid__typedef_union_use_all__b310__attrs,
    },
    {
        .flags             = 32768,
        .attrs_len         = 1,
        .attrs             = typedef_valid__typedef_union_use_all__mea__attrs,
    },
    {
        .flags             = 32768,
        .attrs_len         = 1,
        .attrs             = typedef_valid__typedef_union_use_all__msal__attrs,
    },
    {
        .flags             = 32768,
        .attrs_len         = 1,
        .attrs             = typedef_valid__typedef_union_use_all__mya__attrs,
    },
    {
        .flags             = 0,
        .attrs_len         = 0,
        .check_constraints = &typedef_valid__typedef_union_use_all__muab__check,
    },
    {
        .flags             = 0,
        .attrs_len         = 0,
        .check_constraints = &typedef_valid__typedef_union_use_all__muabc__check,
    },
    {
        .flags             = 0,
        .attrs_len         = 0,
        .check_constraints = &typedef_valid__typedef_union_use_all__muwc__check,
    },
    {
        .flags             = 32768,
        .attrs_len         = 1,
        .attrs             = typedef_valid__typedef_union_use_all__a__attrs,
    },
    {
        .flags             = 32768,
        .attrs_len         = 1,
        .attrs             = typedef_valid__typedef_union_use_all__b__attrs,
    },
};
static iop_field_t const typedef_valid__typedef_union_use_all__desc_fields[] = {
    {
        .name      = LSTR_IMMED("ms"),
        .tag       = 1,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__typedef_union_use_all__t, ms),
        .size      = fieldsizeof(typedef_valid__typedef_union_use_all__t, ms),
    },
    {
        .name      = LSTR_IMMED("mul"),
        .tag       = 2,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_U64,
        .data_offs = offsetof(typedef_valid__typedef_union_use_all__t, mul),
        .size      = fieldsizeof(typedef_valid__typedef_union_use_all__t, mul),
    },
    {
        .name      = LSTR_IMMED("mns"),
        .tag       = 3,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__typedef_union_use_all__t, mns),
        .flags     = 1,
        .size      = fieldsizeof(typedef_valid__typedef_union_use_all__t, mns),
    },
    {
        .name      = LSTR_IMMED("m3"),
        .tag       = 4,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_U64,
        .data_offs = offsetof(typedef_valid__typedef_union_use_all__t, m3),
        .flags     = 1,
        .size      = fieldsizeof(typedef_valid__typedef_union_use_all__t, m3),
    },
    {
        .name      = LSTR_IMMED("b310"),
        .tag       = 5,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_U64,
        .data_offs = offsetof(typedef_valid__typedef_union_use_all__t, b310),
        .flags     = 1,
        .size      = fieldsizeof(typedef_valid__typedef_union_use_all__t, b310),
    },
    {
        .name      = LSTR_IMMED("mea"),
        .tag       = 6,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_ENUM,
        .data_offs = offsetof(typedef_valid__typedef_union_use_all__t, mea),
        .size      = fieldsizeof(typedef_valid__typedef_union_use_all__t, mea),
        .u1        = { .en_desc = &enum1__my_enum__e },
    },
    {
        .name      = LSTR_IMMED("msal"),
        .tag       = 7,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRUCT,
        .data_offs = offsetof(typedef_valid__typedef_union_use_all__t, msal),
        .size      = sizeof(typedef_valid__my_struct__t),
        .u1        = { .st_desc = &typedef_valid__my_struct__s },
    },
    {
        .name      = LSTR_IMMED("mya"),
        .tag       = 8,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_UNION,
        .data_offs = offsetof(typedef_valid__typedef_union_use_all__t, mya),
        .size      = sizeof(typedef_valid__my_union__t),
        .u1        = { .st_desc = &typedef_valid__my_union__s },
    },
    {
        .name      = LSTR_IMMED("muab"),
        .tag       = 9,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_UNION,
        .data_offs = offsetof(typedef_valid__typedef_union_use_all__t, muab),
        .flags     = 1,
        .size      = sizeof(typedef_valid__my_union__t),
        .u1        = { .st_desc = &typedef_valid__my_union__s },
    },
    {
        .name      = LSTR_IMMED("muabc"),
        .tag       = 10,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_UNION,
        .data_offs = offsetof(typedef_valid__typedef_union_use_all__t, muabc),
        .flags     = 1,
        .size      = sizeof(typedef_valid__my_union__t),
        .u1        = { .st_desc = &typedef_valid__my_union__s },
    },
    {
        .name      = LSTR_IMMED("muwc"),
        .tag       = 11,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_UNION,
        .data_offs = offsetof(typedef_valid__typedef_union_use_all__t, muwc),
        .flags     = 1,
        .size      = sizeof(typedef_valid__my_union__t),
        .u1        = { .st_desc = &typedef_valid__my_union__s },
    },
    {
        .name      = LSTR_IMMED("a"),
        .tag       = 12,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRUCT,
        .data_offs = offsetof(typedef_valid__typedef_union_use_all__t, a),
        .size      = sizeof(typedef_valid__a__t *),
        .u1        = { .st_desc = &typedef_valid__a__s },
    },
    {
        .name      = LSTR_IMMED("b"),
        .tag       = 13,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRUCT,
        .data_offs = offsetof(typedef_valid__typedef_union_use_all__t, b),
        .size      = sizeof(typedef_valid__b__t *),
        .u1        = { .st_desc = &typedef_valid__b__s },
    },
};
static int const iop__ranges__6[] = {
    0, 1,
    13,
};
const iop_struct_t typedef_valid__typedef_union_use_all__s = {
    .fullname   = LSTR_IMMED("typedef_valid.TypedefUnionUseAll"),
    .fields     = typedef_valid__typedef_union_use_all__desc_fields,
    .ranges     = iop__ranges__6,
    .ranges_len = countof(iop__ranges__6) / 2,
    .fields_len = countof(typedef_valid__typedef_union_use_all__desc_fields),
    .size       = sizeof(typedef_valid__typedef_union_use_all__t),
    .flags      = 3,
    .is_union   = true,
    .fields_attrs = typedef_valid__typedef_union_use_all__desc_fields_attrs,
};
iop_struct_t const * const typedef_valid__typedef_union_use_all__sp = &typedef_valid__typedef_union_use_all__s;

/* }}} */
/* Class typedef_valid.C {{{ */

static iop_field_t const typedef_valid__c__desc_fields[] = {
    {
        .name      = LSTR_IMMED("b"),
        .tag       = 1,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__c__t, b),
        .size      = fieldsizeof(typedef_valid__c__t, b),
    },
};
static const iop_class_attrs_t typedef_valid__c__class_s = {
    .parent            = &typedef_valid__b__s,
    .class_id          = 11,
};
const iop_struct_t typedef_valid__c__s = {
    .fullname   = LSTR_IMMED("typedef_valid.C"),
    .fields     = typedef_valid__c__desc_fields,
    .ranges     = iop__ranges__3,
    .ranges_len = countof(iop__ranges__3) / 2,
    .fields_len = countof(typedef_valid__c__desc_fields),
    .size       = sizeof(typedef_valid__c__t),
    .flags      = 13,
    .is_union   = false,
    .st_attrs   = NULL,
    .fields_attrs = NULL,
    {
        .class_attrs  = &typedef_valid__c__class_s,
    }
};
iop_struct_t const * const typedef_valid__c__sp = &typedef_valid__c__s;

/* }}} */
/* Structure typedef_valid.RoutingHdr {{{ */

static iop_field_t const typedef_valid__routing_hdr__desc_fields[] = {
    {
        .name      = LSTR_IMMED("route"),
        .tag       = 1,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRUCT,
        .data_offs = offsetof(typedef_valid__routing_hdr__t, route),
        .size      = sizeof(typedef_valid__route__t *),
        .u1        = { .st_desc = &typedef_valid__route__s },
    },
    {
        .name      = LSTR_IMMED("originalHdr"),
        .tag       = 2,
        .tag_len   = 0,
        .repeat    = IOP_R_OPTIONAL,
        .type      = IOP_T_UNION,
        .data_offs = offsetof(typedef_valid__routing_hdr__t, original_hdr),
        .size      = sizeof(typedef_valid__hdr__t),
        .u1        = { .st_desc = &typedef_valid__hdr__s },
    },
};
static int const iop__ranges__7[] = {
    0, 1,
    2,
};
const iop_struct_t typedef_valid__routing_hdr__s = {
    .fullname   = LSTR_IMMED("typedef_valid.RoutingHdr"),
    .fields     = typedef_valid__routing_hdr__desc_fields,
    .ranges     = iop__ranges__7,
    .ranges_len = countof(iop__ranges__7) / 2,
    .fields_len = countof(typedef_valid__routing_hdr__desc_fields),
    .size       = sizeof(typedef_valid__routing_hdr__t),
};
iop_struct_t const * const typedef_valid__routing_hdr__sp = &typedef_valid__routing_hdr__s;

/* }}} */
/* Class typedef_valid.Route {{{ */

static iop_field_t const typedef_valid__route__desc_fields[] = {
};
static const iop_class_attrs_t typedef_valid__route__class_s = {
    .is_abstract       = true,
    .class_id          = 0,
};
const iop_struct_t typedef_valid__route__s = {
    .fullname   = LSTR_IMMED("typedef_valid.Route"),
    .fields     = typedef_valid__route__desc_fields,
    .ranges     = iop__ranges__4,
    .ranges_len = countof(iop__ranges__4) / 2,
    .fields_len = countof(typedef_valid__route__desc_fields),
    .size       = sizeof(typedef_valid__route__t),
    .flags      = 13,
    .is_union   = false,
    .st_attrs   = NULL,
    .fields_attrs = NULL,
    {
        .class_attrs  = &typedef_valid__route__class_s,
    }
};
iop_struct_t const * const typedef_valid__route__sp = &typedef_valid__route__s;

/* }}} */
/* Union typedef_valid.Hdr {{{ */

static iop_field_t const typedef_valid__hdr__desc_fields[] = {
    {
        .name      = LSTR_IMMED("simple"),
        .tag       = 1,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRUCT,
        .data_offs = offsetof(typedef_valid__hdr__t, simple),
        .size      = sizeof(typedef1__foo_s__t),
        .u1        = { .st_desc = &typedef1__foo_s__s },
    },
    {
        .name      = LSTR_IMMED("routing"),
        .tag       = 2,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRUCT,
        .data_offs = offsetof(typedef_valid__hdr__t, routing),
        .size      = sizeof(typedef_valid__routing_hdr__t),
        .u1        = { .st_desc = &typedef_valid__routing_hdr__s },
    },
};
const iop_struct_t typedef_valid__hdr__s = {
    .fullname   = LSTR_IMMED("typedef_valid.Hdr"),
    .fields     = typedef_valid__hdr__desc_fields,
    .ranges     = iop__ranges__7,
    .ranges_len = countof(iop__ranges__7) / 2,
    .fields_len = countof(typedef_valid__hdr__desc_fields),
    .size       = sizeof(typedef_valid__hdr__t),
    .is_union   = true,
};
iop_struct_t const * const typedef_valid__hdr__sp = &typedef_valid__hdr__s;

/* }}} */
/* Structure typedef_valid.TypedefStructUseAllWithList {{{ */

static iop_field_t const typedef_valid__typedef_struct_use_all_with_list__desc_fields[] = {
    {
        .name      = LSTR_IMMED("listName"),
        .tag       = 1,
        .tag_len   = 0,
        .repeat    = IOP_R_REQUIRED,
        .type      = IOP_T_STRING,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all_with_list__t, list_name),
        .size      = fieldsizeof(typedef_valid__typedef_struct_use_all_with_list__t, list_name),
    },
    {
        .name      = LSTR_IMMED("list"),
        .tag       = 2,
        .tag_len   = 0,
        .repeat    = IOP_R_REPEATED,
        .type      = IOP_T_STRUCT,
        .data_offs = offsetof(typedef_valid__typedef_struct_use_all_with_list__t, list),
        .size      = sizeof(typedef_valid__typedef_struct_use_all__t),
        .u1        = { .st_desc = &typedef_valid__typedef_struct_use_all__s },
    },
};
const iop_struct_t typedef_valid__typedef_struct_use_all_with_list__s = {
    .fullname   = LSTR_IMMED("typedef_valid.TypedefStructUseAllWithList"),
    .fields     = typedef_valid__typedef_struct_use_all_with_list__desc_fields,
    .ranges     = iop__ranges__7,
    .ranges_len = countof(iop__ranges__7) / 2,
    .fields_len = countof(typedef_valid__typedef_struct_use_all_with_list__desc_fields),
    .size       = sizeof(typedef_valid__typedef_struct_use_all_with_list__t),
    .flags      = 2,
};
iop_struct_t const * const typedef_valid__typedef_struct_use_all_with_list__sp = &typedef_valid__typedef_struct_use_all_with_list__s;

/* }}} */
/* Typedef typedef_valid.MyString {{{ */

iop_typedef_t const typedef_valid__my_string__td = {
    .fullname = LSTR_IMMED("typedef_valid.MyString"),
    .type = IOP_T_STRING,
};
iop_typedef_t const * const typedef_valid__my_string__tdp = &typedef_valid__my_string__td;

/* }}} */
/* Typedef typedef_valid.MyULong {{{ */

iop_typedef_t const typedef_valid__my_u_long__td = {
    .fullname = LSTR_IMMED("typedef_valid.MyULong"),
    .type = IOP_T_U64,
};
iop_typedef_t const * const typedef_valid__my_u_long__tdp = &typedef_valid__my_u_long__td;

/* }}} */
/* Typedef typedef_valid.MyDouble {{{ */

iop_typedef_t const typedef_valid__my_double__td = {
    .fullname = LSTR_IMMED("typedef_valid.MyDouble"),
    .type = IOP_T_DOUBLE,
};
iop_typedef_t const * const typedef_valid__my_double__tdp = &typedef_valid__my_double__td;

/* }}} */
/* Typedef typedef_valid.MyNumericalString {{{ */

iop_typedef_t const typedef_valid__my_numerical_string__td = {
    .fullname = LSTR_IMMED("typedef_valid.MyNumericalString"),
    .type = IOP_T_STRING,
};
iop_typedef_t const * const typedef_valid__my_numerical_string__tdp = &typedef_valid__my_numerical_string__td;

/* }}} */
/* Typedef typedef_valid.Min3 {{{ */

iop_typedef_t const typedef_valid__min3__td = {
    .fullname = LSTR_IMMED("typedef_valid.Min3"),
    .type = IOP_T_U64,
};
iop_typedef_t const * const typedef_valid__min3__tdp = &typedef_valid__min3__td;

/* }}} */
/* Typedef typedef_valid.Between3And10 {{{ */

iop_typedef_t const typedef_valid__between3_and10__td = {
    .fullname = LSTR_IMMED("typedef_valid.Between3And10"),
    .type = IOP_T_U64,
};
iop_typedef_t const * const typedef_valid__between3_and10__tdp = &typedef_valid__between3_and10__td;

/* }}} */
/* Typedef typedef_valid.MyStringArray {{{ */

iop_typedef_t const typedef_valid__my_string_array__td = {
    .fullname = LSTR_IMMED("typedef_valid.MyStringArray"),
    .type = IOP_T_STRING,
};
iop_typedef_t const * const typedef_valid__my_string_array__tdp = &typedef_valid__my_string_array__td;

/* }}} */
/* Typedef typedef_valid.MyStringArray6 {{{ */

iop_typedef_t const typedef_valid__my_string_array6__td = {
    .fullname = LSTR_IMMED("typedef_valid.MyStringArray6"),
    .type = IOP_T_STRING,
};
iop_typedef_t const * const typedef_valid__my_string_array6__tdp = &typedef_valid__my_string_array6__td;

/* }}} */
/* Typedef typedef_valid.MyNumericalStringOpt {{{ */

iop_typedef_t const typedef_valid__my_numerical_string_opt__td = {
    .fullname = LSTR_IMMED("typedef_valid.MyNumericalStringOpt"),
    .type = IOP_T_STRING,
};
iop_typedef_t const * const typedef_valid__my_numerical_string_opt__tdp = &typedef_valid__my_numerical_string_opt__td;

/* }}} */
/* Typedef typedef_valid.MyEnumAlias {{{ */

iop_typedef_t const typedef_valid__my_enum_alias__td = {
    .fullname = LSTR_IMMED("typedef_valid.MyEnumAlias"),
    .type = IOP_T_ENUM,
    .ref_enum = &typedef_valid__my_enum_alias__e,
};
iop_typedef_t const * const typedef_valid__my_enum_alias__tdp = &typedef_valid__my_enum_alias__td;

/* }}} */
/* Typedef typedef_valid.MyStructAlias {{{ */

iop_typedef_t const typedef_valid__my_struct_alias__td = {
    .fullname = LSTR_IMMED("typedef_valid.MyStructAlias"),
    .type = IOP_T_STRUCT,
    .ref_struct = &typedef_valid__my_struct_alias__s,
};
iop_typedef_t const * const typedef_valid__my_struct_alias__tdp = &typedef_valid__my_struct_alias__td;

/* }}} */
/* Typedef typedef_valid.MyUnionAlias {{{ */

iop_typedef_t const typedef_valid__my_union_alias__td = {
    .fullname = LSTR_IMMED("typedef_valid.MyUnionAlias"),
    .type = IOP_T_UNION,
    .ref_struct = &typedef_valid__my_union_alias__s,
};
iop_typedef_t const * const typedef_valid__my_union_alias__tdp = &typedef_valid__my_union_alias__td;

/* }}} */
/* Typedef typedef_valid.MyUnionAB {{{ */

iop_typedef_t const typedef_valid__my_union_a_b__td = {
    .fullname = LSTR_IMMED("typedef_valid.MyUnionAB"),
    .type = IOP_T_UNION,
    .ref_struct = &typedef_valid__my_union_a_b__s,
};
iop_typedef_t const * const typedef_valid__my_union_a_b__tdp = &typedef_valid__my_union_a_b__td;

/* }}} */
/* Typedef typedef_valid.MyUnionABC {{{ */

iop_typedef_t const typedef_valid__my_union_a_b_c__td = {
    .fullname = LSTR_IMMED("typedef_valid.MyUnionABC"),
    .type = IOP_T_UNION,
    .ref_struct = &typedef_valid__my_union_a_b_c__s,
};
iop_typedef_t const * const typedef_valid__my_union_a_b_c__tdp = &typedef_valid__my_union_a_b_c__td;

/* }}} */
/* Typedef typedef_valid.MyUnionWithoutC {{{ */

iop_typedef_t const typedef_valid__my_union_without_c__td = {
    .fullname = LSTR_IMMED("typedef_valid.MyUnionWithoutC"),
    .type = IOP_T_UNION,
    .ref_struct = &typedef_valid__my_union_without_c__s,
};
iop_typedef_t const * const typedef_valid__my_union_without_c__tdp = &typedef_valid__my_union_without_c__td;

/* }}} */
/* Typedef typedef_valid.Adef {{{ */

iop_typedef_t const typedef_valid__adef__td = {
    .fullname = LSTR_IMMED("typedef_valid.Adef"),
    .type = IOP_T_STRUCT,
    .ref_struct = &typedef_valid__adef__s,
};
iop_typedef_t const * const typedef_valid__adef__tdp = &typedef_valid__adef__td;

/* }}} */
/* Typedef typedef_valid.Bdef {{{ */

iop_typedef_t const typedef_valid__bdef__td = {
    .fullname = LSTR_IMMED("typedef_valid.Bdef"),
    .type = IOP_T_STRUCT,
    .ref_struct = &typedef_valid__bdef__s,
};
iop_typedef_t const * const typedef_valid__bdef__tdp = &typedef_valid__bdef__td;

/* }}} */
/* Typedef typedef_valid.TypedefSimpleHdr {{{ */

iop_typedef_t const typedef_valid__typedef_simple_hdr__td = {
    .fullname = LSTR_IMMED("typedef_valid.TypedefSimpleHdr"),
    .type = IOP_T_STRUCT,
    .ref_struct = &typedef_valid__typedef_simple_hdr__s,
};
iop_typedef_t const * const typedef_valid__typedef_simple_hdr__tdp = &typedef_valid__typedef_simple_hdr__td;

/* }}} */
/* Typedef typedef_valid.TypedefRoutingHdr {{{ */

iop_typedef_t const typedef_valid__typedef_routing_hdr__td = {
    .fullname = LSTR_IMMED("typedef_valid.TypedefRoutingHdr"),
    .type = IOP_T_STRUCT,
    .ref_struct = &typedef_valid__typedef_routing_hdr__s,
};
iop_typedef_t const * const typedef_valid__typedef_routing_hdr__tdp = &typedef_valid__typedef_routing_hdr__td;

/* }}} */
/* Typedef typedef_valid.TypedefRoute {{{ */

iop_typedef_t const typedef_valid__typedef_route__td = {
    .fullname = LSTR_IMMED("typedef_valid.TypedefRoute"),
    .type = IOP_T_STRUCT,
    .ref_struct = &typedef_valid__typedef_route__s,
};
iop_typedef_t const * const typedef_valid__typedef_route__tdp = &typedef_valid__typedef_route__td;

/* }}} */
/* Typedef typedef_valid.TypedefHdr {{{ */

iop_typedef_t const typedef_valid__typedef_hdr__td = {
    .fullname = LSTR_IMMED("typedef_valid.TypedefHdr"),
    .type = IOP_T_UNION,
    .ref_struct = &typedef_valid__typedef_hdr__s,
};
iop_typedef_t const * const typedef_valid__typedef_hdr__tdp = &typedef_valid__typedef_hdr__td;

/* }}} */
/* Typedef typedef_valid.TypedefStructUseAllList {{{ */

iop_typedef_t const typedef_valid__typedef_struct_use_all_list__td = {
    .fullname = LSTR_IMMED("typedef_valid.TypedefStructUseAllList"),
    .type = IOP_T_STRUCT,
    .ref_struct = &typedef_valid__typedef_struct_use_all_list__s,
};
iop_typedef_t const * const typedef_valid__typedef_struct_use_all_list__tdp = &typedef_valid__typedef_struct_use_all_list__td;

/* }}} */
/* Package typedef_valid {{{ */

static const iop_pkg_t *const typedef_valid__deps[] = {
    &enum1__pkg,
    &typedef1__pkg,
    &typedef2__pkg,
    NULL,
};

static const iop_enum_t *const typedef_valid__enums[] = {
    NULL,
};

static const iop_struct_t *const typedef_valid__structs[] = {
    &typedef_valid__my_struct__s,
    &typedef_valid__my_union__s,
    &typedef_valid__a__s,
    &typedef_valid__b__s,
    &typedef_valid__typedef_struct_use_all__s,
    &typedef_valid__typedef_union_use_all__s,
    &typedef_valid__c__s,
    &typedef_valid__routing_hdr__s,
    &typedef_valid__route__s,
    &typedef_valid__hdr__s,
    &typedef_valid__typedef_struct_use_all_with_list__s,
    NULL,
};

static const iop_iface_t *const typedef_valid__ifaces[] = {
    NULL,
};

static const iop_mod_t *const typedef_valid__mods[] = {
    NULL,
};

static const iop_typedef_t *const typedef_valid__td[] = {
    &typedef_valid__my_string__td,
    &typedef_valid__my_u_long__td,
    &typedef_valid__my_double__td,
    &typedef_valid__my_numerical_string__td,
    &typedef_valid__min3__td,
    &typedef_valid__between3_and10__td,
    &typedef_valid__my_string_array__td,
    &typedef_valid__my_string_array6__td,
    &typedef_valid__my_numerical_string_opt__td,
    &typedef_valid__my_enum_alias__td,
    &typedef_valid__my_struct_alias__td,
    &typedef_valid__my_union_alias__td,
    &typedef_valid__my_union_a_b__td,
    &typedef_valid__my_union_a_b_c__td,
    &typedef_valid__my_union_without_c__td,
    &typedef_valid__adef__td,
    &typedef_valid__bdef__td,
    &typedef_valid__typedef_simple_hdr__td,
    &typedef_valid__typedef_routing_hdr__td,
    &typedef_valid__typedef_route__td,
    &typedef_valid__typedef_hdr__td,
    &typedef_valid__typedef_struct_use_all_list__td,
    NULL,
};

iop_pkg_t const typedef_valid__pkg = {
    .name     = LSTR_IMMED("typedef_valid"),
    .deps     = typedef_valid__deps,
    .enums    = typedef_valid__enums,
    .structs  = typedef_valid__structs,
    .ifaces   = typedef_valid__ifaces,
    .mods     = typedef_valid__mods,
    .typedefs = typedef_valid__td,
};
iop_pkg_t const * const typedef_valid__pkgp = &typedef_valid__pkg;

/* }}} */

